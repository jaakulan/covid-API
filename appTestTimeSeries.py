import requests
from flask.wrappers import Response
import unittest
from app import app

"""
URL = 'http://127.0.0.1:5000/timeSeries'
SHRUNK_URL = 'http://127.0.0.1:5000'

"""
URL = 'https://covidjaakalex.ue.r.appspot.com/timeSeries'
SHRUNK_URL = 'https://covidjaakalex.ue.r.appspot.com'
q_setup = False


class FlaskTest(unittest.TestCase):
    q_setup = False

    '''
    #test if data is posted correctly and can be viewed for one date and for the db recovered
    def test_post_one_date_recovered(self):
        files = {'file': open('./csvExamplesTS/one-date.csv', 'rb')}
        tester = app.test_client(self)
        response = requests.post(URL+'/addNewCSV?type=recovered', files=files)
        response = requests.get(URL+'/viewAll?type=recovered&file=json')
        files.get('file').close()
        correctText = '[{"combined": " NewSouthWalesAustralia ", " 1/22/20 ": null}, {"combined": " NorthernTerritoryAustralia ", " 1/22/20 ": null}, {"combined": " QueenslandAustralia ", " 1/22/20 ": null}, {"combined": " SouthAustraliaAustralia ", " 1/22/20 ": null}, {"combined": " TasmaniaAustralia ", " 1/22/20 ": null}, {"combined": " VictoriaAustralia ", " 1/22/20 ": null}, {"combined": " WesternAustraliaAustralia ", " 1/22/20 ": null}, {"combined": " Austria ", " 1/22/20 ": null}, {"combined": " Azerbaijan ", " 1/22/20 ": null}, {"combined": " Bahamas ", " 1/22/20 ": null}, {"combined": " Bahrain ", " 1/22/20 ": null}, {"combined": " Bangladesh ", " 1/22/20 ": null}, {"combined": " Barbados ", " 1/22/20 ": null}, {"combined": " Belarus ", " 1/22/20 ": null}, {"combined": " Belgium ", " 1/22/20 ": null}, {"combined": " Belize ", " 1/22/20 ": null}, {"combined": " Benin ", " 1/22/20 ": null}, {"combined": " Bhutan ", " 1/22/20 ": null}, {"combined": " Bolivia ", " 1/22/20 ": null}, {"combined": " BosniaandHerzegovina ", " 1/22/20 ": null}, {"combined": " Botswana ", " 1/22/20 ": null}, {"combined": " Brazil ", " 1/22/20 ": null}, {"combined": " Brunei ", " 1/22/20 ": null}, {"combined": " Bulgaria ", " 1/22/20 ": null}, {"combined": " BurkinaFaso ", " 1/22/20 ": null}, {"combined": " Burma ", " 1/22/20 ": null}, {"combined": " Burundi ", " 1/22/20 ": null}, {"combined": " CaboVerde ", " 1/22/20 ": null}, {"combined": " Cambodia ", " 1/22/20 ": null}, {"combined": " Cameroon ", " 1/22/20 ": null}, {"combined": " AlbertaCanada ", " 1/22/20 ": null}, {"combined": " BritishColumbiaCanada ", " 1/22/20 ": null}, {"combined": " DiamondPrincessCanada ", " 1/22/20 ": null}, {"combined": " GrandPrincessCanada ", " 1/22/20 ": null}, {"combined": " ManitobaCanada ", " 1/22/20 ": null}, {"combined": " NewBrunswickCanada ", " 1/22/20 ": null}, {"combined": " NewfoundlandandLabradorCanada ", " 1/22/20 ": null}, {"combined": " NorthwestTerritoriesCanada ", " 1/22/20 ": null}, {"combined": " NovaScotiaCanada ", " 1/22/20 ": null}, {"combined": " NunavutCanada ", " 1/22/20 ": null}, {"combined": " OntarioCanada ", " 1/22/20 ": null}, {"combined": " PrinceEdwardIslandCanada ", " 1/22/20 ": null}, {"combined": " QuebecCanada ", " 1/22/20 ": null}, {"combined": " RepatriatedTravellersCanada ", " 1/22/20 ": null}, {"combined": " SaskatchewanCanada ", " 1/22/20 ": null}, {"combined": " YukonCanada ", " 1/22/20 ": null}, {"combined": " CentralAfricanRepublic ", " 1/22/20 ": null}, {"combined": " Chad ", " 1/22/20 ": null}, {"combined": " Chile ", " 1/22/20 ": null}, {"combined": " AnhuiChina ", " 1/22/20 ": null}, {"combined": " BeijingChina ", " 1/22/20 ": null}, {"combined": " ChongqingChina ", " 1/22/20 ": null}, {"combined": " FujianChina ", " 1/22/20 ": null}, {"combined": " GansuChina ", " 1/22/20 ": null}, {"combined": " GuangdongChina ", " 1/22/20 ": null}, {"combined": " GuangxiChina ", " 1/22/20 ": null}, {"combined": " GuizhouChina ", " 1/22/20 ": null}, {"combined": " HainanChina ", " 1/22/20 ": null}, {"combined": " HebeiChina ", " 1/22/20 ": null}, {"combined": " HeilongjiangChina ", " 1/22/20 ": null}, {"combined": " HenanChina ", " 1/22/20 ": null}, {"combined": " HongKongChina ", " 1/22/20 ": null}, {"combined": " HubeiChina ", " 1/22/20 ": null}, {"combined": " HunanChina ", " 1/22/20 ": null}, {"combined": " InnerMongoliaChina ", " 1/22/20 ": null}, {"combined": " JiangsuChina ", " 1/22/20 ": null}, {"combined": " JiangxiChina ", " 1/22/20 ": null}, {"combined": " JilinChina ", " 1/22/20 ": null}, {"combined": " LiaoningChina ", " 1/22/20 ": null}, {"combined": " MacauChina ", " 1/22/20 ": null}, {"combined": " NingxiaChina ", " 1/22/20 ": null}, {"combined": " QinghaiChina ", " 1/22/20 ": null}, {"combined": " ShaanxiChina ", " 1/22/20 ": null}, {"combined": " ShandongChina ", " 1/22/20 ": null}, {"combined": " ShanghaiChina ", " 1/22/20 ": null}, {"combined": " ShanxiChina ", " 1/22/20 ": null}, {"combined": " SichuanChina ", " 1/22/20 ": null}, {"combined": " TianjinChina ", " 1/22/20 ": null}, {"combined": " TibetChina ", " 1/22/20 ": null}, {"combined": " UnknownChina ", " 1/22/20 ": null}, {"combined": " XinjiangChina ", " 1/22/20 ": null}, {"combined": " YunnanChina ", " 1/22/20 ": null}, {"combined": " ZhejiangChina ", " 1/22/20 ": null}, {"combined": " Colombia ", " 1/22/20 ": null}, {"combined": " Comoros ", " 1/22/20 ": null}, {"combined": " CongoBrazzaville ", " 1/22/20 ": null}, {"combined": " CongoKinshasa ", " 1/22/20 ": null}, {"combined": " CostaRica ", " 1/22/20 ": null}, {"combined": " CotedIvoire ", " 1/22/20 ": null}, {"combined": " Croatia ", " 1/22/20 ": null}, {"combined": " Cuba ", " 1/22/20 ": null}, {"combined": " Cyprus ", " 1/22/20 ": null}, {"combined": " Czechia ", " 1/22/20 ": null}, {"combined": " FaroeIslandsDenmark ", " 1/22/20 ": null}, {"combined": " GreenlandDenmark ", " 1/22/20 ": null}, {"combined": " Denmark ", " 1/22/20 ": null}, {"combined": " DiamondPrincess ", " 1/22/20 ": null}, {"combined": " Djibouti ", " 1/22/20 ": null}, {"combined": " Dominica ", " 1/22/20 ": null}, {"combined": " DominicanRepublic ", " 1/22/20 ": null}, {"combined": " Ecuador ", " 1/22/20 ": null}, {"combined": " Egypt ", " 1/22/20 ": null}, {"combined": " ElSalvador ", " 1/22/20 ": null}, {"combined": " EquatorialGuinea ", " 1/22/20 ": null}, {"combined": " Eritrea ", " 1/22/20 ": null}, {"combined": " Estonia ", " 1/22/20 ": null}, {"combined": " Eswatini ", " 1/22/20 ": null}, {"combined": " Ethiopia ", " 1/22/20 ": null}, {"combined": " Fiji ", " 1/22/20 ": null}, {"combined": " Finland ", " 1/22/20 ": null}, {"combined": " FrenchGuianaFrance ", " 1/22/20 ": null}, {"combined": " FrenchPolynesiaFrance ", " 1/22/20 ": null}, {"combined": " GuadeloupeFrance ", " 1/22/20 ": null}, {"combined": " MartiniqueFrance ", " 1/22/20 ": null}, {"combined": " MayotteFrance ", " 1/22/20 ": null}, {"combined": " NewCaledoniaFrance ", " 1/22/20 ": null}, {"combined": " ReunionFrance ", " 1/22/20 ": null}, {"combined": " SaintBarthelemyFrance ", " 1/22/20 ": null}, {"combined": " SaintPierreandMiquelonFrance ", " 1/22/20 ": null}, {"combined": " StMartinFrance ", " 1/22/20 ": null}, {"combined": " WallisandFutunaFrance ", " 1/22/20 ": null}, {"combined": " France ", " 1/22/20 ": null}, {"combined": " Gabon ", " 1/22/20 ": null}, {"combined": " Gambia ", " 1/22/20 ": null}, {"combined": " Georgia ", " 1/22/20 ": null}, {"combined": " Germany ", " 1/22/20 ": null}, {"combined": " Ghana ", " 1/22/20 ": null}, {"combined": " Greece ", " 1/22/20 ": null}, {"combined": " Grenada ", " 1/22/20 ": null}, {"combined": " Guatemala ", " 1/22/20 ": null}, {"combined": " Guinea ", " 1/22/20 ": null}, {"combined": " GuineaBissau ", " 1/22/20 ": null}, {"combined": " Guyana ", " 1/22/20 ": null}, {"combined": " Haiti ", " 1/22/20 ": null}, {"combined": " HolySee ", " 1/22/20 ": null}, {"combined": " Honduras ", " 1/22/20 ": null}, {"combined": " Hungary ", " 1/22/20 ": null}, {"combined": " Iceland ", " 1/22/20 ": null}, {"combined": " India ", " 1/22/20 ": null}, {"combined": " Indonesia ", " 1/22/20 ": null}, {"combined": " Iran ", " 1/22/20 ": null}, {"combined": " Iraq ", " 1/22/20 ": null}, {"combined": " Ireland ", " 1/22/20 ": null}, {"combined": " Israel ", " 1/22/20 ": null}, {"combined": " Italy ", " 1/22/20 ": null}, {"combined": " Jamaica ", " 1/22/20 ": null}, {"combined": " Japan ", " 1/22/20 ": null}, {"combined": " Jordan ", " 1/22/20 ": null}, {"combined": " Kazakhstan ", " 1/22/20 ": null}, {"combined": " Kenya ", " 1/22/20 ": null}, {"combined": " Kiribati ", " 1/22/20 ": null}, {"combined": " KoreaSouth ", " 1/22/20 ": null}, {"combined": " Kosovo ", " 1/22/20 ": null}, {"combined": " Kuwait ", " 1/22/20 ": null}, {"combined": " Kyrgyzstan ", " 1/22/20 ": null}, {"combined": " Laos ", " 1/22/20 ": null}, {"combined": " Latvia ", " 1/22/20 ": null}, {"combined": " Lebanon ", " 1/22/20 ": null}, {"combined": " Lesotho ", " 1/22/20 ": null}, {"combined": " Liberia ", " 1/22/20 ": null}, {"combined": " Libya ", " 1/22/20 ": null}, {"combined": " Liechtenstein ", " 1/22/20 ": null}, {"combined": " Lithuania ", " 1/22/20 ": null}, {"combined": " Luxembourg ", " 1/22/20 ": null}, {"combined": " MSZaandam ", " 1/22/20 ": null}, {"combined": " Madagascar ", " 1/22/20 ": null}, {"combined": " Malawi ", " 1/22/20 ": null}, {"combined": " Malaysia ", " 1/22/20 ": null}, {"combined": " Maldives ", " 1/22/20 ": null}, {"combined": " Mali ", " 1/22/20 ": null}, {"combined": " Malta ", " 1/22/20 ": null}, {"combined": " MarshallIslands ", " 1/22/20 ": null}, {"combined": " Mauritania ", " 1/22/20 ": null}, {"combined": " Mauritius ", " 1/22/20 ": null}, {"combined": " Mexico ", " 1/22/20 ": null}, {"combined": " Micronesia ", " 1/22/20 ": null}, {"combined": " Moldova ", " 1/22/20 ": null}, {"combined": " Monaco ", " 1/22/20 ": null}, {"combined": " Mongolia ", " 1/22/20 ": null}, {"combined": " Montenegro ", " 1/22/20 ": null}, {"combined": " Morocco ", " 1/22/20 ": null}, {"combined": " Mozambique ", " 1/22/20 ": null}, {"combined": " Namibia ", " 1/22/20 ": null}, {"combined": " Nepal ", " 1/22/20 ": null}, {"combined": " ArubaNetherlands ", " 1/22/20 ": null}, {"combined": " BonaireSintEustatiusandSabaNetherlands ", " 1/22/20 ": null}, {"combined": " CuracaoNetherlands ", " 1/22/20 ": null}, {"combined": " SintMaartenNetherlands ", " 1/22/20 ": null}, {"combined": " Netherlands ", " 1/22/20 ": null}, {"combined": " CookIslandsNewZealand ", " 1/22/20 ": null}, {"combined": " NewZealand ", " 1/22/20 ": null}, {"combined": " Nicaragua ", " 1/22/20 ": null}, {"combined": " Niger ", " 1/22/20 ": null}, {"combined": " Nigeria ", " 1/22/20 ": null}, {"combined": " NorthMacedonia ", " 1/22/20 ": null}, {"combined": " Norway ", " 1/22/20 ": null}, {"combined": " Oman ", " 1/22/20 ": null}, {"combined": " Pakistan ", " 1/22/20 ": null}, {"combined": " Palau ", " 1/22/20 ": null}, {"combined": " Panama ", " 1/22/20 ": null}, {"combined": " PapuaNewGuinea ", " 1/22/20 ": null}, {"combined": " Paraguay ", " 1/22/20 ": null}, {"combined": " Peru ", " 1/22/20 ": null}, {"combined": " Philippines ", " 1/22/20 ": null}, {"combined": " Poland ", " 1/22/20 ": null}, {"combined": " Portugal ", " 1/22/20 ": null}, {"combined": " Qatar ", " 1/22/20 ": null}, {"combined": " Romania ", " 1/22/20 ": null}, {"combined": " Russia ", " 1/22/20 ": null}, {"combined": " Rwanda ", " 1/22/20 ": null}, {"combined": " SaintKittsandNevis ", " 1/22/20 ": null}, {"combined": " SaintLucia ", " 1/22/20 ": null}, {"combined": " SaintVincentandtheGrenadines ", " 1/22/20 ": null}, {"combined": " Samoa ", " 1/22/20 ": null}, {"combined": " SanMarino ", " 1/22/20 ": null}, {"combined": " SaoTomeandPrincipe ", " 1/22/20 ": null}, {"combined": " SaudiArabia ", " 1/22/20 ": null}, {"combined": " Senegal ", " 1/22/20 ": null}, {"combined": " Serbia ", " 1/22/20 ": null}, {"combined": " Seychelles ", " 1/22/20 ": null}, {"combined": " SierraLeone ", " 1/22/20 ": null}, {"combined": " Singapore ", " 1/22/20 ": null}, {"combined": " Slovakia ", " 1/22/20 ": null}, {"combined": " Slovenia ", " 1/22/20 ": null}, {"combined": " SolomonIslands ", " 1/22/20 ": null}, {"combined": " Somalia ", " 1/22/20 ": null}, {"combined": " SouthAfrica ", " 1/22/20 ": null}, {"combined": " SouthSudan ", " 1/22/20 ": null}, {"combined": " Spain ", " 1/22/20 ": null}, {"combined": " SriLanka ", " 1/22/20 ": null}, {"combined": " Sudan ", " 1/22/20 ": null}, {"combined": " SummerOlympics2020 ", " 1/22/20 ": null}, {"combined": " Suriname ", " 1/22/20 ": null}, {"combined": " Sweden ", " 1/22/20 ": null}, {"combined": " Switzerland ", " 1/22/20 ": null}, {"combined": " Syria ", " 1/22/20 ": null}, {"combined": " Taiwan ", " 1/22/20 ": null}, {"combined": " Tajikistan ", " 1/22/20 ": null}, {"combined": " Tanzania ", " 1/22/20 ": null}, {"combined": " Thailand ", " 1/22/20 ": null}, {"combined": " TimorLeste ", " 1/22/20 ": null}, {"combined": " Togo ", " 1/22/20 ": null}, {"combined": " Tonga ", " 1/22/20 ": null}, {"combined": " TrinidadandTobago ", " 1/22/20 ": null}, {"combined": " Tunisia ", " 1/22/20 ": null}, {"combined": " Turkey ", " 1/22/20 ": null}, {"combined": " US ", " 1/22/20 ": null}, {"combined": " Uganda ", " 1/22/20 ": null}, {"combined": " Ukraine ", " 1/22/20 ": null}, {"combined": " UnitedArabEmirates ", " 1/22/20 ": null}, {"combined": " AnguillaUnitedKingdom ", " 1/22/20 ": null}, {"combined": " BermudaUnitedKingdom ", " 1/22/20 ": null}, {"combined": " BritishVirginIslandsUnitedKingdom ", " 1/22/20 ": null}, {"combined": " CaymanIslandsUnitedKingdom ", " 1/22/20 ": null}, {"combined": " ChannelIslandsUnitedKingdom ", " 1/22/20 ": null}, {"combined": " FalklandIslandsMalvinasUnitedKingdom ", " 1/22/20 ": null}, {"combined": " GibraltarUnitedKingdom ", " 1/22/20 ": null}, {"combined": " IsleofManUnitedKingdom ", " 1/22/20 ": null}, {"combined": " MontserratUnitedKingdom ", " 1/22/20 ": null}, {"combined": " SaintHelenaAscensionandTristandaCunhaUnitedKingdom ", " 1/22/20 ": null}, {"combined": " TurksandCaicosIslandsUnitedKingdom ", " 1/22/20 ": null}, {"combined": " UnitedKingdom ", " 1/22/20 ": null}, {"combined": " Uruguay ", " 1/22/20 ": null}, {"combined": " Uzbekistan ", " 1/22/20 ": null}, {"combined": " Vanuatu ", " 1/22/20 ": null}, {"combined": " Venezuela ", " 1/22/20 ": null}, {"combined": " Vietnam ", " 1/22/20 ": null}, {"combined": " WestBankandGaza ", " 1/22/20 ": null}, {"combined": " Yemen ", " 1/22/20 ": null}, {"combined": " Zambia ", " 1/22/20 ": null}, {"combined": " Zimbabwe ", " 1/22/20 ": null}, {"combined": " Afghanistan ", " 1/22/20 ": 0}, {"combined": " Albania ", " 1/22/20 ": 0}, {"combined": " Algeria ", " 1/22/20 ": 0}, {"combined": " Andorra ", " 1/22/20 ": 0}, {"combined": " Angola ", " 1/22/20 ": 0}, {"combined": " AntiguaandBarbuda ", " 1/22/20 ": 0}, {"combined": " Argentina ", " 1/22/20 ": 0}, {"combined": " Armenia ", " 1/22/20 ": 0}, {"combined": " AustralianCapitalTerritoryAustralia ", " 1/22/20 ": 0}]'
        self.assertEqual(correctText, response.text, "Should be "+ correctText)

    #test if data is posted correctly and can be viewed for many dates and for the db recovered
    def test_post_multiple_dates_recovered(self):
        files = {'file': open('./csvExamplesTS/two-date.csv', 'rb')}
        tester = app.test_client(self)
        response = requests.post(URL+'/addNewCSV?type=recovered', files=files)
        response = requests.get(URL+'/viewAll?type=recovered&file=json')
        files.get('file').close()
        correctText = '[{"combined": " NewSouthWalesAustralia ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " NorthernTerritoryAustralia ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " QueenslandAustralia ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " SouthAustraliaAustralia ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " TasmaniaAustralia ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " VictoriaAustralia ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " WesternAustraliaAustralia ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Austria ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Azerbaijan ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Bahamas ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Bahrain ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Bangladesh ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Barbados ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Belarus ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Belgium ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Belize ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Benin ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Bhutan ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Bolivia ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " BosniaandHerzegovina ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Botswana ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Brazil ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Brunei ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Bulgaria ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " BurkinaFaso ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Burma ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Burundi ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " CaboVerde ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Cambodia ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Cameroon ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " AlbertaCanada ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " BritishColumbiaCanada ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " DiamondPrincessCanada ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " GrandPrincessCanada ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " ManitobaCanada ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " NewBrunswickCanada ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " NewfoundlandandLabradorCanada ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " NorthwestTerritoriesCanada ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " NovaScotiaCanada ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " NunavutCanada ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " OntarioCanada ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " PrinceEdwardIslandCanada ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " QuebecCanada ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " RepatriatedTravellersCanada ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " SaskatchewanCanada ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " YukonCanada ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " CentralAfricanRepublic ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Chad ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Chile ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " AnhuiChina ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " BeijingChina ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " ChongqingChina ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " FujianChina ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " GansuChina ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " GuangdongChina ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " GuangxiChina ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " GuizhouChina ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " HainanChina ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " HebeiChina ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " HeilongjiangChina ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " HenanChina ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " HongKongChina ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " HubeiChina ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " HunanChina ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " InnerMongoliaChina ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " JiangsuChina ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " JiangxiChina ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " JilinChina ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " LiaoningChina ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " MacauChina ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " NingxiaChina ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " QinghaiChina ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " ShaanxiChina ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " ShandongChina ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " ShanghaiChina ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " ShanxiChina ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " SichuanChina ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " TianjinChina ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " TibetChina ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " UnknownChina ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " XinjiangChina ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " YunnanChina ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " ZhejiangChina ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Colombia ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Comoros ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " CongoBrazzaville ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " CongoKinshasa ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " CostaRica ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " CotedIvoire ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Croatia ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Cuba ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Cyprus ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Czechia ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " FaroeIslandsDenmark ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " GreenlandDenmark ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Denmark ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " DiamondPrincess ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Djibouti ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Dominica ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " DominicanRepublic ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Ecuador ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Egypt ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " ElSalvador ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " EquatorialGuinea ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Eritrea ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Estonia ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Eswatini ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Ethiopia ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Fiji ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Finland ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " FrenchGuianaFrance ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " FrenchPolynesiaFrance ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " GuadeloupeFrance ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " MartiniqueFrance ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " MayotteFrance ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " NewCaledoniaFrance ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " ReunionFrance ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " SaintBarthelemyFrance ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " SaintPierreandMiquelonFrance ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " StMartinFrance ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " WallisandFutunaFrance ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " France ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Gabon ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Gambia ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Georgia ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Germany ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Ghana ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Greece ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Grenada ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Guatemala ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Guinea ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " GuineaBissau ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Guyana ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Haiti ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " HolySee ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Honduras ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Hungary ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Iceland ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " India ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Indonesia ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Iran ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Iraq ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Ireland ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Israel ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Italy ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Jamaica ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Japan ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Jordan ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Kazakhstan ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Kenya ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Kiribati ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " KoreaSouth ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Kosovo ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Kuwait ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Kyrgyzstan ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Laos ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Latvia ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Lebanon ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Lesotho ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Liberia ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Libya ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Liechtenstein ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Lithuania ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Luxembourg ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " MSZaandam ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Madagascar ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Malawi ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Malaysia ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Maldives ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Mali ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Malta ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " MarshallIslands ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Mauritania ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Mauritius ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Mexico ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Micronesia ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Moldova ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Monaco ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Mongolia ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Montenegro ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Morocco ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Mozambique ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Namibia ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Nepal ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " ArubaNetherlands ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " BonaireSintEustatiusandSabaNetherlands ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " CuracaoNetherlands ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " SintMaartenNetherlands ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Netherlands ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " CookIslandsNewZealand ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " NewZealand ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Nicaragua ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Niger ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Nigeria ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " NorthMacedonia ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Norway ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Oman ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Pakistan ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Palau ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Panama ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " PapuaNewGuinea ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Paraguay ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Peru ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Philippines ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Poland ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Portugal ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Qatar ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Romania ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Russia ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Rwanda ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " SaintKittsandNevis ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " SaintLucia ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " SaintVincentandtheGrenadines ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Samoa ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " SanMarino ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " SaoTomeandPrincipe ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " SaudiArabia ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Senegal ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Serbia ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Seychelles ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " SierraLeone ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Singapore ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Slovakia ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Slovenia ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " SolomonIslands ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Somalia ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " SouthAfrica ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " SouthSudan ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Spain ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " SriLanka ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Sudan ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " SummerOlympics2020 ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Suriname ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Sweden ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Switzerland ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Syria ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Taiwan ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Tajikistan ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Tanzania ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Thailand ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " TimorLeste ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Togo ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Tonga ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " TrinidadandTobago ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Tunisia ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Turkey ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " US ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Uganda ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Ukraine ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " UnitedArabEmirates ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " AnguillaUnitedKingdom ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " BermudaUnitedKingdom ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " BritishVirginIslandsUnitedKingdom ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " CaymanIslandsUnitedKingdom ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " ChannelIslandsUnitedKingdom ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " FalklandIslandsMalvinasUnitedKingdom ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " GibraltarUnitedKingdom ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " IsleofManUnitedKingdom ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " MontserratUnitedKingdom ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " SaintHelenaAscensionandTristandaCunhaUnitedKingdom ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " TurksandCaicosIslandsUnitedKingdom ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " UnitedKingdom ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Uruguay ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Uzbekistan ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Vanuatu ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Venezuela ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Vietnam ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " WestBankandGaza ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Yemen ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Zambia ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Zimbabwe ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Afghanistan ", " 1/22/20 ": 0, " 1/31/21 ": 55023}, {"combined": " Albania ", " 1/22/20 ": 0, " 1/31/21 ": 78127}, {"combined": " Algeria ", " 1/22/20 ": 0, " 1/31/21 ": 107339}, {"combined": " Andorra ", " 1/22/20 ": 0, " 1/31/21 ": 9937}, {"combined": " Angola ", " 1/22/20 ": 0, " 1/31/21 ": 19796}, {"combined": " AntiguaandBarbuda ", " 1/22/20 ": 0, " 1/31/21 ": 234}, {"combined": " Argentina ", " 1/22/20 ": 0, " 1/31/21 ": 1927239}, {"combined": " Armenia ", " 1/22/20 ": 0, " 1/31/21 ": 167026}, {"combined": " AustralianCapitalTerritoryAustralia ", " 1/22/20 ": 0, " 1/31/21 ": 118}]'
        self.assertEqual(correctText, response.text, "Should be "+ response.text)

    #test if data is posted correctly and can be viewed for one date and for the db recovered
    def test_post_one_date_deaths(self):
        files = {'file': open('./csvExamplesTS/one-date.csv', 'rb')}
        tester = app.test_client(self)
        response = requests.post(URL+'/addNewCSV?type=deaths', files=files)
        response = requests.get(URL+'/viewAll?type=deaths&file=json')
        files.get('file').close()
        correctText = '[{"combined": " NewSouthWalesAustralia ", " 1/22/20 ": null}, {"combined": " NorthernTerritoryAustralia ", " 1/22/20 ": null}, {"combined": " QueenslandAustralia ", " 1/22/20 ": null}, {"combined": " SouthAustraliaAustralia ", " 1/22/20 ": null}, {"combined": " TasmaniaAustralia ", " 1/22/20 ": null}, {"combined": " VictoriaAustralia ", " 1/22/20 ": null}, {"combined": " WesternAustraliaAustralia ", " 1/22/20 ": null}, {"combined": " Austria ", " 1/22/20 ": null}, {"combined": " Azerbaijan ", " 1/22/20 ": null}, {"combined": " Bahamas ", " 1/22/20 ": null}, {"combined": " Bahrain ", " 1/22/20 ": null}, {"combined": " Bangladesh ", " 1/22/20 ": null}, {"combined": " Barbados ", " 1/22/20 ": null}, {"combined": " Belarus ", " 1/22/20 ": null}, {"combined": " Belgium ", " 1/22/20 ": null}, {"combined": " Belize ", " 1/22/20 ": null}, {"combined": " Benin ", " 1/22/20 ": null}, {"combined": " Bhutan ", " 1/22/20 ": null}, {"combined": " Bolivia ", " 1/22/20 ": null}, {"combined": " BosniaandHerzegovina ", " 1/22/20 ": null}, {"combined": " Botswana ", " 1/22/20 ": null}, {"combined": " Brazil ", " 1/22/20 ": null}, {"combined": " Brunei ", " 1/22/20 ": null}, {"combined": " Bulgaria ", " 1/22/20 ": null}, {"combined": " BurkinaFaso ", " 1/22/20 ": null}, {"combined": " Burma ", " 1/22/20 ": null}, {"combined": " Burundi ", " 1/22/20 ": null}, {"combined": " CaboVerde ", " 1/22/20 ": null}, {"combined": " Cambodia ", " 1/22/20 ": null}, {"combined": " Cameroon ", " 1/22/20 ": null}, {"combined": " AlbertaCanada ", " 1/22/20 ": null}, {"combined": " BritishColumbiaCanada ", " 1/22/20 ": null}, {"combined": " DiamondPrincessCanada ", " 1/22/20 ": null}, {"combined": " GrandPrincessCanada ", " 1/22/20 ": null}, {"combined": " ManitobaCanada ", " 1/22/20 ": null}, {"combined": " NewBrunswickCanada ", " 1/22/20 ": null}, {"combined": " NewfoundlandandLabradorCanada ", " 1/22/20 ": null}, {"combined": " NorthwestTerritoriesCanada ", " 1/22/20 ": null}, {"combined": " NovaScotiaCanada ", " 1/22/20 ": null}, {"combined": " NunavutCanada ", " 1/22/20 ": null}, {"combined": " OntarioCanada ", " 1/22/20 ": null}, {"combined": " PrinceEdwardIslandCanada ", " 1/22/20 ": null}, {"combined": " QuebecCanada ", " 1/22/20 ": null}, {"combined": " RepatriatedTravellersCanada ", " 1/22/20 ": null}, {"combined": " SaskatchewanCanada ", " 1/22/20 ": null}, {"combined": " YukonCanada ", " 1/22/20 ": null}, {"combined": " CentralAfricanRepublic ", " 1/22/20 ": null}, {"combined": " Chad ", " 1/22/20 ": null}, {"combined": " Chile ", " 1/22/20 ": null}, {"combined": " AnhuiChina ", " 1/22/20 ": null}, {"combined": " BeijingChina ", " 1/22/20 ": null}, {"combined": " ChongqingChina ", " 1/22/20 ": null}, {"combined": " FujianChina ", " 1/22/20 ": null}, {"combined": " GansuChina ", " 1/22/20 ": null}, {"combined": " GuangdongChina ", " 1/22/20 ": null}, {"combined": " GuangxiChina ", " 1/22/20 ": null}, {"combined": " GuizhouChina ", " 1/22/20 ": null}, {"combined": " HainanChina ", " 1/22/20 ": null}, {"combined": " HebeiChina ", " 1/22/20 ": null}, {"combined": " HeilongjiangChina ", " 1/22/20 ": null}, {"combined": " HenanChina ", " 1/22/20 ": null}, {"combined": " HongKongChina ", " 1/22/20 ": null}, {"combined": " HubeiChina ", " 1/22/20 ": null}, {"combined": " HunanChina ", " 1/22/20 ": null}, {"combined": " InnerMongoliaChina ", " 1/22/20 ": null}, {"combined": " JiangsuChina ", " 1/22/20 ": null}, {"combined": " JiangxiChina ", " 1/22/20 ": null}, {"combined": " JilinChina ", " 1/22/20 ": null}, {"combined": " LiaoningChina ", " 1/22/20 ": null}, {"combined": " MacauChina ", " 1/22/20 ": null}, {"combined": " NingxiaChina ", " 1/22/20 ": null}, {"combined": " QinghaiChina ", " 1/22/20 ": null}, {"combined": " ShaanxiChina ", " 1/22/20 ": null}, {"combined": " ShandongChina ", " 1/22/20 ": null}, {"combined": " ShanghaiChina ", " 1/22/20 ": null}, {"combined": " ShanxiChina ", " 1/22/20 ": null}, {"combined": " SichuanChina ", " 1/22/20 ": null}, {"combined": " TianjinChina ", " 1/22/20 ": null}, {"combined": " TibetChina ", " 1/22/20 ": null}, {"combined": " UnknownChina ", " 1/22/20 ": null}, {"combined": " XinjiangChina ", " 1/22/20 ": null}, {"combined": " YunnanChina ", " 1/22/20 ": null}, {"combined": " ZhejiangChina ", " 1/22/20 ": null}, {"combined": " Colombia ", " 1/22/20 ": null}, {"combined": " Comoros ", " 1/22/20 ": null}, {"combined": " CongoBrazzaville ", " 1/22/20 ": null}, {"combined": " CongoKinshasa ", " 1/22/20 ": null}, {"combined": " CostaRica ", " 1/22/20 ": null}, {"combined": " CotedIvoire ", " 1/22/20 ": null}, {"combined": " Croatia ", " 1/22/20 ": null}, {"combined": " Cuba ", " 1/22/20 ": null}, {"combined": " Cyprus ", " 1/22/20 ": null}, {"combined": " Czechia ", " 1/22/20 ": null}, {"combined": " FaroeIslandsDenmark ", " 1/22/20 ": null}, {"combined": " GreenlandDenmark ", " 1/22/20 ": null}, {"combined": " Denmark ", " 1/22/20 ": null}, {"combined": " DiamondPrincess ", " 1/22/20 ": null}, {"combined": " Djibouti ", " 1/22/20 ": null}, {"combined": " Dominica ", " 1/22/20 ": null}, {"combined": " DominicanRepublic ", " 1/22/20 ": null}, {"combined": " Ecuador ", " 1/22/20 ": null}, {"combined": " Egypt ", " 1/22/20 ": null}, {"combined": " ElSalvador ", " 1/22/20 ": null}, {"combined": " EquatorialGuinea ", " 1/22/20 ": null}, {"combined": " Eritrea ", " 1/22/20 ": null}, {"combined": " Estonia ", " 1/22/20 ": null}, {"combined": " Eswatini ", " 1/22/20 ": null}, {"combined": " Ethiopia ", " 1/22/20 ": null}, {"combined": " Fiji ", " 1/22/20 ": null}, {"combined": " Finland ", " 1/22/20 ": null}, {"combined": " FrenchGuianaFrance ", " 1/22/20 ": null}, {"combined": " FrenchPolynesiaFrance ", " 1/22/20 ": null}, {"combined": " GuadeloupeFrance ", " 1/22/20 ": null}, {"combined": " MartiniqueFrance ", " 1/22/20 ": null}, {"combined": " MayotteFrance ", " 1/22/20 ": null}, {"combined": " NewCaledoniaFrance ", " 1/22/20 ": null}, {"combined": " ReunionFrance ", " 1/22/20 ": null}, {"combined": " SaintBarthelemyFrance ", " 1/22/20 ": null}, {"combined": " SaintPierreandMiquelonFrance ", " 1/22/20 ": null}, {"combined": " StMartinFrance ", " 1/22/20 ": null}, {"combined": " WallisandFutunaFrance ", " 1/22/20 ": null}, {"combined": " France ", " 1/22/20 ": null}, {"combined": " Gabon ", " 1/22/20 ": null}, {"combined": " Gambia ", " 1/22/20 ": null}, {"combined": " Georgia ", " 1/22/20 ": null}, {"combined": " Germany ", " 1/22/20 ": null}, {"combined": " Ghana ", " 1/22/20 ": null}, {"combined": " Greece ", " 1/22/20 ": null}, {"combined": " Grenada ", " 1/22/20 ": null}, {"combined": " Guatemala ", " 1/22/20 ": null}, {"combined": " Guinea ", " 1/22/20 ": null}, {"combined": " GuineaBissau ", " 1/22/20 ": null}, {"combined": " Guyana ", " 1/22/20 ": null}, {"combined": " Haiti ", " 1/22/20 ": null}, {"combined": " HolySee ", " 1/22/20 ": null}, {"combined": " Honduras ", " 1/22/20 ": null}, {"combined": " Hungary ", " 1/22/20 ": null}, {"combined": " Iceland ", " 1/22/20 ": null}, {"combined": " India ", " 1/22/20 ": null}, {"combined": " Indonesia ", " 1/22/20 ": null}, {"combined": " Iran ", " 1/22/20 ": null}, {"combined": " Iraq ", " 1/22/20 ": null}, {"combined": " Ireland ", " 1/22/20 ": null}, {"combined": " Israel ", " 1/22/20 ": null}, {"combined": " Italy ", " 1/22/20 ": null}, {"combined": " Jamaica ", " 1/22/20 ": null}, {"combined": " Japan ", " 1/22/20 ": null}, {"combined": " Jordan ", " 1/22/20 ": null}, {"combined": " Kazakhstan ", " 1/22/20 ": null}, {"combined": " Kenya ", " 1/22/20 ": null}, {"combined": " Kiribati ", " 1/22/20 ": null}, {"combined": " KoreaSouth ", " 1/22/20 ": null}, {"combined": " Kosovo ", " 1/22/20 ": null}, {"combined": " Kuwait ", " 1/22/20 ": null}, {"combined": " Kyrgyzstan ", " 1/22/20 ": null}, {"combined": " Laos ", " 1/22/20 ": null}, {"combined": " Latvia ", " 1/22/20 ": null}, {"combined": " Lebanon ", " 1/22/20 ": null}, {"combined": " Lesotho ", " 1/22/20 ": null}, {"combined": " Liberia ", " 1/22/20 ": null}, {"combined": " Libya ", " 1/22/20 ": null}, {"combined": " Liechtenstein ", " 1/22/20 ": null}, {"combined": " Lithuania ", " 1/22/20 ": null}, {"combined": " Luxembourg ", " 1/22/20 ": null}, {"combined": " MSZaandam ", " 1/22/20 ": null}, {"combined": " Madagascar ", " 1/22/20 ": null}, {"combined": " Malawi ", " 1/22/20 ": null}, {"combined": " Malaysia ", " 1/22/20 ": null}, {"combined": " Maldives ", " 1/22/20 ": null}, {"combined": " Mali ", " 1/22/20 ": null}, {"combined": " Malta ", " 1/22/20 ": null}, {"combined": " MarshallIslands ", " 1/22/20 ": null}, {"combined": " Mauritania ", " 1/22/20 ": null}, {"combined": " Mauritius ", " 1/22/20 ": null}, {"combined": " Mexico ", " 1/22/20 ": null}, {"combined": " Micronesia ", " 1/22/20 ": null}, {"combined": " Moldova ", " 1/22/20 ": null}, {"combined": " Monaco ", " 1/22/20 ": null}, {"combined": " Mongolia ", " 1/22/20 ": null}, {"combined": " Montenegro ", " 1/22/20 ": null}, {"combined": " Morocco ", " 1/22/20 ": null}, {"combined": " Mozambique ", " 1/22/20 ": null}, {"combined": " Namibia ", " 1/22/20 ": null}, {"combined": " Nepal ", " 1/22/20 ": null}, {"combined": " ArubaNetherlands ", " 1/22/20 ": null}, {"combined": " BonaireSintEustatiusandSabaNetherlands ", " 1/22/20 ": null}, {"combined": " CuracaoNetherlands ", " 1/22/20 ": null}, {"combined": " SintMaartenNetherlands ", " 1/22/20 ": null}, {"combined": " Netherlands ", " 1/22/20 ": null}, {"combined": " CookIslandsNewZealand ", " 1/22/20 ": null}, {"combined": " NewZealand ", " 1/22/20 ": null}, {"combined": " Nicaragua ", " 1/22/20 ": null}, {"combined": " Niger ", " 1/22/20 ": null}, {"combined": " Nigeria ", " 1/22/20 ": null}, {"combined": " NorthMacedonia ", " 1/22/20 ": null}, {"combined": " Norway ", " 1/22/20 ": null}, {"combined": " Oman ", " 1/22/20 ": null}, {"combined": " Pakistan ", " 1/22/20 ": null}, {"combined": " Palau ", " 1/22/20 ": null}, {"combined": " Panama ", " 1/22/20 ": null}, {"combined": " PapuaNewGuinea ", " 1/22/20 ": null}, {"combined": " Paraguay ", " 1/22/20 ": null}, {"combined": " Peru ", " 1/22/20 ": null}, {"combined": " Philippines ", " 1/22/20 ": null}, {"combined": " Poland ", " 1/22/20 ": null}, {"combined": " Portugal ", " 1/22/20 ": null}, {"combined": " Qatar ", " 1/22/20 ": null}, {"combined": " Romania ", " 1/22/20 ": null}, {"combined": " Russia ", " 1/22/20 ": null}, {"combined": " Rwanda ", " 1/22/20 ": null}, {"combined": " SaintKittsandNevis ", " 1/22/20 ": null}, {"combined": " SaintLucia ", " 1/22/20 ": null}, {"combined": " SaintVincentandtheGrenadines ", " 1/22/20 ": null}, {"combined": " Samoa ", " 1/22/20 ": null}, {"combined": " SanMarino ", " 1/22/20 ": null}, {"combined": " SaoTomeandPrincipe ", " 1/22/20 ": null}, {"combined": " SaudiArabia ", " 1/22/20 ": null}, {"combined": " Senegal ", " 1/22/20 ": null}, {"combined": " Serbia ", " 1/22/20 ": null}, {"combined": " Seychelles ", " 1/22/20 ": null}, {"combined": " SierraLeone ", " 1/22/20 ": null}, {"combined": " Singapore ", " 1/22/20 ": null}, {"combined": " Slovakia ", " 1/22/20 ": null}, {"combined": " Slovenia ", " 1/22/20 ": null}, {"combined": " SolomonIslands ", " 1/22/20 ": null}, {"combined": " Somalia ", " 1/22/20 ": null}, {"combined": " SouthAfrica ", " 1/22/20 ": null}, {"combined": " SouthSudan ", " 1/22/20 ": null}, {"combined": " Spain ", " 1/22/20 ": null}, {"combined": " SriLanka ", " 1/22/20 ": null}, {"combined": " Sudan ", " 1/22/20 ": null}, {"combined": " SummerOlympics2020 ", " 1/22/20 ": null}, {"combined": " Suriname ", " 1/22/20 ": null}, {"combined": " Sweden ", " 1/22/20 ": null}, {"combined": " Switzerland ", " 1/22/20 ": null}, {"combined": " Syria ", " 1/22/20 ": null}, {"combined": " Taiwan ", " 1/22/20 ": null}, {"combined": " Tajikistan ", " 1/22/20 ": null}, {"combined": " Tanzania ", " 1/22/20 ": null}, {"combined": " Thailand ", " 1/22/20 ": null}, {"combined": " TimorLeste ", " 1/22/20 ": null}, {"combined": " Togo ", " 1/22/20 ": null}, {"combined": " Tonga ", " 1/22/20 ": null}, {"combined": " TrinidadandTobago ", " 1/22/20 ": null}, {"combined": " Tunisia ", " 1/22/20 ": null}, {"combined": " Turkey ", " 1/22/20 ": null}, {"combined": " US ", " 1/22/20 ": null}, {"combined": " Uganda ", " 1/22/20 ": null}, {"combined": " Ukraine ", " 1/22/20 ": null}, {"combined": " UnitedArabEmirates ", " 1/22/20 ": null}, {"combined": " AnguillaUnitedKingdom ", " 1/22/20 ": null}, {"combined": " BermudaUnitedKingdom ", " 1/22/20 ": null}, {"combined": " BritishVirginIslandsUnitedKingdom ", " 1/22/20 ": null}, {"combined": " CaymanIslandsUnitedKingdom ", " 1/22/20 ": null}, {"combined": " ChannelIslandsUnitedKingdom ", " 1/22/20 ": null}, {"combined": " FalklandIslandsMalvinasUnitedKingdom ", " 1/22/20 ": null}, {"combined": " GibraltarUnitedKingdom ", " 1/22/20 ": null}, {"combined": " IsleofManUnitedKingdom ", " 1/22/20 ": null}, {"combined": " MontserratUnitedKingdom ", " 1/22/20 ": null}, {"combined": " SaintHelenaAscensionandTristandaCunhaUnitedKingdom ", " 1/22/20 ": null}, {"combined": " TurksandCaicosIslandsUnitedKingdom ", " 1/22/20 ": null}, {"combined": " UnitedKingdom ", " 1/22/20 ": null}, {"combined": " Uruguay ", " 1/22/20 ": null}, {"combined": " Uzbekistan ", " 1/22/20 ": null}, {"combined": " Vanuatu ", " 1/22/20 ": null}, {"combined": " Venezuela ", " 1/22/20 ": null}, {"combined": " Vietnam ", " 1/22/20 ": null}, {"combined": " WestBankandGaza ", " 1/22/20 ": null}, {"combined": " Yemen ", " 1/22/20 ": null}, {"combined": " Zambia ", " 1/22/20 ": null}, {"combined": " Zimbabwe ", " 1/22/20 ": null}, {"combined": " Afghanistan ", " 1/22/20 ": 0}, {"combined": " Albania ", " 1/22/20 ": 0}, {"combined": " Algeria ", " 1/22/20 ": 0}, {"combined": " Andorra ", " 1/22/20 ": 0}, {"combined": " Angola ", " 1/22/20 ": 0}, {"combined": " AntiguaandBarbuda ", " 1/22/20 ": 0}, {"combined": " Argentina ", " 1/22/20 ": 0}, {"combined": " Armenia ", " 1/22/20 ": 0}, {"combined": " AustralianCapitalTerritoryAustralia ", " 1/22/20 ": 0}]'
        self.assertEqual(correctText, response.text, "Should be "+ correctText)

    #test if data is posted correctly and can be viewed for many dates and for the db recovered
    def test_post_multiple_dates_deaths(self):
        files = {'file': open('./csvExamplesTS/two-date.csv', 'rb')}
        tester = app.test_client(self)
        response = requests.post(URL+'/addNewCSV?type=deaths', files=files)
        response = requests.get(URL+'/viewAll?type=deaths&file=json')
        files.get('file').close()
        correctText = '[{"combined": " NewSouthWalesAustralia ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " NorthernTerritoryAustralia ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " QueenslandAustralia ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " SouthAustraliaAustralia ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " TasmaniaAustralia ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " VictoriaAustralia ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " WesternAustraliaAustralia ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Austria ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Azerbaijan ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Bahamas ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Bahrain ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Bangladesh ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Barbados ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Belarus ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Belgium ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Belize ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Benin ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Bhutan ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Bolivia ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " BosniaandHerzegovina ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Botswana ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Brazil ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Brunei ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Bulgaria ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " BurkinaFaso ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Burma ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Burundi ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " CaboVerde ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Cambodia ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Cameroon ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " AlbertaCanada ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " BritishColumbiaCanada ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " DiamondPrincessCanada ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " GrandPrincessCanada ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " ManitobaCanada ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " NewBrunswickCanada ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " NewfoundlandandLabradorCanada ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " NorthwestTerritoriesCanada ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " NovaScotiaCanada ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " NunavutCanada ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " OntarioCanada ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " PrinceEdwardIslandCanada ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " QuebecCanada ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " RepatriatedTravellersCanada ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " SaskatchewanCanada ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " YukonCanada ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " CentralAfricanRepublic ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Chad ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Chile ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " AnhuiChina ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " BeijingChina ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " ChongqingChina ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " FujianChina ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " GansuChina ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " GuangdongChina ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " GuangxiChina ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " GuizhouChina ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " HainanChina ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " HebeiChina ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " HeilongjiangChina ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " HenanChina ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " HongKongChina ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " HubeiChina ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " HunanChina ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " InnerMongoliaChina ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " JiangsuChina ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " JiangxiChina ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " JilinChina ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " LiaoningChina ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " MacauChina ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " NingxiaChina ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " QinghaiChina ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " ShaanxiChina ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " ShandongChina ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " ShanghaiChina ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " ShanxiChina ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " SichuanChina ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " TianjinChina ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " TibetChina ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " UnknownChina ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " XinjiangChina ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " YunnanChina ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " ZhejiangChina ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Colombia ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Comoros ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " CongoBrazzaville ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " CongoKinshasa ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " CostaRica ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " CotedIvoire ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Croatia ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Cuba ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Cyprus ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Czechia ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " FaroeIslandsDenmark ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " GreenlandDenmark ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Denmark ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " DiamondPrincess ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Djibouti ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Dominica ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " DominicanRepublic ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Ecuador ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Egypt ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " ElSalvador ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " EquatorialGuinea ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Eritrea ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Estonia ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Eswatini ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Ethiopia ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Fiji ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Finland ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " FrenchGuianaFrance ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " FrenchPolynesiaFrance ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " GuadeloupeFrance ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " MartiniqueFrance ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " MayotteFrance ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " NewCaledoniaFrance ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " ReunionFrance ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " SaintBarthelemyFrance ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " SaintPierreandMiquelonFrance ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " StMartinFrance ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " WallisandFutunaFrance ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " France ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Gabon ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Gambia ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Georgia ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Germany ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Ghana ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Greece ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Grenada ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Guatemala ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Guinea ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " GuineaBissau ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Guyana ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Haiti ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " HolySee ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Honduras ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Hungary ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Iceland ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " India ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Indonesia ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Iran ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Iraq ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Ireland ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Israel ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Italy ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Jamaica ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Japan ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Jordan ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Kazakhstan ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Kenya ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Kiribati ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " KoreaSouth ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Kosovo ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Kuwait ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Kyrgyzstan ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Laos ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Latvia ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Lebanon ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Lesotho ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Liberia ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Libya ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Liechtenstein ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Lithuania ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Luxembourg ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " MSZaandam ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Madagascar ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Malawi ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Malaysia ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Maldives ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Mali ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Malta ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " MarshallIslands ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Mauritania ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Mauritius ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Mexico ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Micronesia ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Moldova ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Monaco ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Mongolia ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Montenegro ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Morocco ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Mozambique ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Namibia ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Nepal ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " ArubaNetherlands ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " BonaireSintEustatiusandSabaNetherlands ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " CuracaoNetherlands ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " SintMaartenNetherlands ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Netherlands ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " CookIslandsNewZealand ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " NewZealand ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Nicaragua ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Niger ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Nigeria ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " NorthMacedonia ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Norway ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Oman ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Pakistan ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Palau ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Panama ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " PapuaNewGuinea ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Paraguay ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Peru ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Philippines ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Poland ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Portugal ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Qatar ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Romania ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Russia ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Rwanda ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " SaintKittsandNevis ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " SaintLucia ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " SaintVincentandtheGrenadines ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Samoa ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " SanMarino ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " SaoTomeandPrincipe ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " SaudiArabia ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Senegal ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Serbia ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Seychelles ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " SierraLeone ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Singapore ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Slovakia ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Slovenia ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " SolomonIslands ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Somalia ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " SouthAfrica ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " SouthSudan ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Spain ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " SriLanka ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Sudan ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " SummerOlympics2020 ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Suriname ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Sweden ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Switzerland ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Syria ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Taiwan ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Tajikistan ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Tanzania ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Thailand ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " TimorLeste ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Togo ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Tonga ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " TrinidadandTobago ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Tunisia ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Turkey ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " US ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Uganda ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Ukraine ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " UnitedArabEmirates ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " AnguillaUnitedKingdom ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " BermudaUnitedKingdom ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " BritishVirginIslandsUnitedKingdom ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " CaymanIslandsUnitedKingdom ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " ChannelIslandsUnitedKingdom ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " FalklandIslandsMalvinasUnitedKingdom ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " GibraltarUnitedKingdom ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " IsleofManUnitedKingdom ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " MontserratUnitedKingdom ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " SaintHelenaAscensionandTristandaCunhaUnitedKingdom ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " TurksandCaicosIslandsUnitedKingdom ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " UnitedKingdom ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Uruguay ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Uzbekistan ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Vanuatu ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Venezuela ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Vietnam ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " WestBankandGaza ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Yemen ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Zambia ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Zimbabwe ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Afghanistan ", " 1/22/20 ": 0, " 1/31/21 ": 55023}, {"combined": " Albania ", " 1/22/20 ": 0, " 1/31/21 ": 78127}, {"combined": " Algeria ", " 1/22/20 ": 0, " 1/31/21 ": 107339}, {"combined": " Andorra ", " 1/22/20 ": 0, " 1/31/21 ": 9937}, {"combined": " Angola ", " 1/22/20 ": 0, " 1/31/21 ": 19796}, {"combined": " AntiguaandBarbuda ", " 1/22/20 ": 0, " 1/31/21 ": 234}, {"combined": " Argentina ", " 1/22/20 ": 0, " 1/31/21 ": 1927239}, {"combined": " Armenia ", " 1/22/20 ": 0, " 1/31/21 ": 167026}, {"combined": " AustralianCapitalTerritoryAustralia ", " 1/22/20 ": 0, " 1/31/21 ": 118}]'
        self.assertEqual(correctText, response.text, "Should be "+ response.text)
    

    # update existing database for the db confirmed
    def test_update(self):
        tester = app.test_client(self)
        response = tester.get("/deleteAll")

        #add data
        files = {'file': open('./csvExamplesTS/one-date.csv', 'rb')}
        response = requests.post(URL+'/addNewCSV?type=confirmed', files=files)
        files.get('file').close()

        #update with extra data
        files = {'file': open('./csvExamplesTS/one-date-diff.csv', 'rb')}
        response = requests.post(URL+'/updateCSV?type=confirmed', files=files)
        files.get('file').close()


        response = requests.get(URL+'/viewAll?type=confirmed&file=json')

        #find if update was successful
        correctText = '[{"combined": " NewSouthWalesAustralia ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " NorthernTerritoryAustralia ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " QueenslandAustralia ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " SouthAustraliaAustralia ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " TasmaniaAustralia ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " VictoriaAustralia ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " WesternAustraliaAustralia ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Austria ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Azerbaijan ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Bahamas ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Bahrain ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Bangladesh ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Barbados ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Belarus ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Belgium ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Belize ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Benin ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Bhutan ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Bolivia ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " BosniaandHerzegovina ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Botswana ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Brazil ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Brunei ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Bulgaria ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " BurkinaFaso ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Burma ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Burundi ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " CaboVerde ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Cambodia ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Cameroon ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " AlbertaCanada ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " BritishColumbiaCanada ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " DiamondPrincessCanada ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " GrandPrincessCanada ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " ManitobaCanada ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " NewBrunswickCanada ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " NewfoundlandandLabradorCanada ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " NorthwestTerritoriesCanada ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " NovaScotiaCanada ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " NunavutCanada ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " OntarioCanada ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " PrinceEdwardIslandCanada ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " QuebecCanada ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " RepatriatedTravellersCanada ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " SaskatchewanCanada ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " YukonCanada ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " CentralAfricanRepublic ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Chad ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Chile ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " AnhuiChina ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " BeijingChina ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " ChongqingChina ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " FujianChina ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " GansuChina ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " GuangdongChina ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " GuangxiChina ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " GuizhouChina ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " HainanChina ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " HebeiChina ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " HeilongjiangChina ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " HenanChina ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " HongKongChina ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " HubeiChina ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " HunanChina ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " InnerMongoliaChina ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " JiangsuChina ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " JiangxiChina ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " JilinChina ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " LiaoningChina ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " MacauChina ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " NingxiaChina ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " QinghaiChina ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " ShaanxiChina ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " ShandongChina ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " ShanghaiChina ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " ShanxiChina ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " SichuanChina ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " TianjinChina ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " TibetChina ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " UnknownChina ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " XinjiangChina ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " YunnanChina ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " ZhejiangChina ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Colombia ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Comoros ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " CongoBrazzaville ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " CongoKinshasa ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " CostaRica ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " CotedIvoire ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Croatia ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Cuba ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Cyprus ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Czechia ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " FaroeIslandsDenmark ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " GreenlandDenmark ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Denmark ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " DiamondPrincess ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Djibouti ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Dominica ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " DominicanRepublic ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Ecuador ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Egypt ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " ElSalvador ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " EquatorialGuinea ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Eritrea ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Estonia ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Eswatini ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Ethiopia ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Fiji ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Finland ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " FrenchGuianaFrance ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " FrenchPolynesiaFrance ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " GuadeloupeFrance ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " MartiniqueFrance ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " MayotteFrance ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " NewCaledoniaFrance ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " ReunionFrance ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " SaintBarthelemyFrance ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " SaintPierreandMiquelonFrance ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " StMartinFrance ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " WallisandFutunaFrance ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " France ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Gabon ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Gambia ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Georgia ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Germany ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Ghana ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Greece ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Grenada ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Guatemala ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Guinea ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " GuineaBissau ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Guyana ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Haiti ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " HolySee ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Honduras ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Hungary ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Iceland ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " India ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Indonesia ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Iran ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Iraq ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Ireland ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Israel ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Italy ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Jamaica ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Japan ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Jordan ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Kazakhstan ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Kenya ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Kiribati ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " KoreaSouth ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Kosovo ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Kuwait ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Kyrgyzstan ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Laos ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Latvia ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Lebanon ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Lesotho ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Liberia ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Libya ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Liechtenstein ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Lithuania ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Luxembourg ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " MSZaandam ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Madagascar ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Malawi ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Malaysia ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Maldives ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Mali ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Malta ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " MarshallIslands ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Mauritania ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Mauritius ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Mexico ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Micronesia ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Moldova ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Monaco ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Mongolia ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Montenegro ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Morocco ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Mozambique ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Namibia ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Nepal ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " ArubaNetherlands ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " BonaireSintEustatiusandSabaNetherlands ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " CuracaoNetherlands ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " SintMaartenNetherlands ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Netherlands ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " CookIslandsNewZealand ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " NewZealand ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Nicaragua ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Niger ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Nigeria ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " NorthMacedonia ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Norway ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Oman ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Pakistan ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Palau ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Panama ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " PapuaNewGuinea ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Paraguay ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Peru ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Philippines ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Poland ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Portugal ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Qatar ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Romania ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Russia ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Rwanda ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " SaintKittsandNevis ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " SaintLucia ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " SaintVincentandtheGrenadines ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Samoa ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " SanMarino ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " SaoTomeandPrincipe ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " SaudiArabia ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Senegal ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Serbia ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Seychelles ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " SierraLeone ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Singapore ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Slovakia ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Slovenia ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " SolomonIslands ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Somalia ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " SouthAfrica ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " SouthSudan ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Spain ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " SriLanka ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Sudan ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " SummerOlympics2020 ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Suriname ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Sweden ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Switzerland ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Syria ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Taiwan ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Tajikistan ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Tanzania ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Thailand ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " TimorLeste ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Togo ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Tonga ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " TrinidadandTobago ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Tunisia ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Turkey ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " US ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Uganda ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Ukraine ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " UnitedArabEmirates ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " AnguillaUnitedKingdom ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " BermudaUnitedKingdom ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " BritishVirginIslandsUnitedKingdom ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " CaymanIslandsUnitedKingdom ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " ChannelIslandsUnitedKingdom ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " FalklandIslandsMalvinasUnitedKingdom ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " GibraltarUnitedKingdom ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " IsleofManUnitedKingdom ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " MontserratUnitedKingdom ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " SaintHelenaAscensionandTristandaCunhaUnitedKingdom ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " TurksandCaicosIslandsUnitedKingdom ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " UnitedKingdom ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Uruguay ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Uzbekistan ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Vanuatu ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Venezuela ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Vietnam ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " WestBankandGaza ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Yemen ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Zambia ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Zimbabwe ", " 1/22/20 ": null, " 1/31/21 ": null}, {"combined": " Afghanistan ", " 1/22/20 ": 0, " 1/31/21 ": 55023}, {"combined": " Albania ", " 1/22/20 ": 0, " 1/31/21 ": 78127}, {"combined": " Algeria ", " 1/22/20 ": 0, " 1/31/21 ": 107339}, {"combined": " Andorra ", " 1/22/20 ": 0, " 1/31/21 ": 9937}, {"combined": " Angola ", " 1/22/20 ": 0, " 1/31/21 ": 19796}, {"combined": " AntiguaandBarbuda ", " 1/22/20 ": 0, " 1/31/21 ": 234}, {"combined": " Argentina ", " 1/22/20 ": 0, " 1/31/21 ": 1927239}, {"combined": " Armenia ", " 1/22/20 ": 0, " 1/31/21 ": 167026}, {"combined": " AustralianCapitalTerritoryAustralia ", " 1/22/20 ": 0, " 1/31/21 ": 118}]'
        self.assertEqual(correctText, response.text, "Should be "+ response.text)
    '''

    #query with only type
    def test_queries_one_type(self):
        # Ensure files are set up, if not already
        global q_setup
        if q_setup == False:
            setup_queries(self)
            q_setup = True

        response = requests.get(URL + '/info?type=json')
        correctText = "Must Specify at least one data query!"
        self.assertEqual(correctText, response.text, "For query with only type, Should be "+ correctText)

    '''
    # query with one type, one data
    def test_queries_one_type_one_data(self):
        # Ensure files are set up, if not already
        global q_setup
        if q_setup == False:
            setup_queries(self)
            q_setup = True

        response = requests.get(URL + '/info?type=json&data=deaths')
        correctText = '[{"deaths": 2201}, {"deaths": 1181}, {"deaths": 2762}, {"deaths": 84}, {"deaths": 0}, {"deaths": 0}, {"deaths": 2}, {"deaths": 1181}, {"deaths": 2762}]'
        self.assertEqual(correctText, response.text, "For query with one type, one data, Should be "+ correctText)

    # query with one type, one data, one specific date
    def test_queries_one_type_one_data_one_date(self):
        #Ensure files are set up, if not already
        global q_setup
        if q_setup == False:
            setup_queries(self)
            q_setup = True

        response = requests.get(URL + '/info?type=json&data=deaths&date=10-11-2021')
        correctText = '[{"deaths": 2201}, {"deaths": 1181}, {"deaths": 2762}, {"deaths": 84}]'
        self.assertEqual(correctText, response.text, "For query with one type, one data, one specific date, Should be "+ correctText)

    # query with one type, one data, one range of dates
    def test_queries_one_type_one_data_range_date(self):
        # Ensure files are set up, if not already
        global q_setup
        if q_setup == False:
            setup_queries(self)
            q_setup = True

        response = requests.get(URL + '/info?type=json&data=deaths&dateStart=10-12-2021&dateEnd=10-15-2021')
        correctText = '[{"deaths": 2}, {"deaths": 1181}, {"deaths": 2762}, {"deaths": 0}, {"deaths": 0}]'
        self.assertEqual(correctText, response.text, "For query with one type, one data, one range of dates, Should be "+ correctText)

    # query with one type, one data, one range of dates and country
    def test_queries_one_type_one_data_range_date_range_country(self):
        # Ensure files are set up, if not already
        global q_setup
        if q_setup == False:
            setup_queries(self)
            q_setup = True

        response = requests.get(URL + '/info?type=json&data=deaths&dateStart=10-12-2021&dateEnd=10-15-2021&country=Australia')
        correctText = '[{"deaths": 0}, {"deaths": 0}]'
        self.assertEqual(correctText, response.text, "For query with one type, one data, one range of dates and country, Should be "+ correctText)

    # query with wrong type
    def test_queries_wrong_type(self):
        # Ensure files are set up, if not already
        global q_setup
        if q_setup == False:
            setup_queries(self)
            q_setup = True

        response = requests.get(URL + '/info?type=XML&data=deaths')
        correctText = 'Return type was not valid Or type was not specified'
        self.assertEqual(correctText, response.text, "For query with wrong type, Should be "+ correctText)

    # query with wrong date
    def test_queries_wrong_date(self):
        # Ensure files are set up, if not already
        global q_setup
        if q_setup == False:
            setup_queries(self)
            q_setup = True

        response = requests.get(URL + '/info?type=json&date=12121&data=deaths')
        correctText = '12121 is an incorrect data format, should be MM-DD-YYYY'
        self.assertEqual(correctText, response.text, "For query with wrong date, Should be "+ correctText)

    # query with combined_key that doesnt exist
    def test_queries_wrong_country(self):
        # Ensure files are set up, if not already
        global q_setup
        if q_setup == False:
            setup_queries(self)
            q_setup = True

        response = requests.get(URL + '/info?type=json&combined=congobongodongo&data=deaths')
        correctText = '[]'
        self.assertEqual(correctText, response.text, "For query with combined_key that doesnt exist, Should be "+ correctText)

def setup_queries(tester):
    tester = app.test_client(tester)
    response = tester.get("/deleteAll")
    #add data
    files = {'file': open('./csvExamples/10-11-2021.test.csv','rb')}
    response = requests.post(URL+'/addNewCSV', files=files)
    files.get('file').close()
    #update with extra data
    files = {'file': open('./csvExamples/10-12-2021.test.csv','rb')}
    response = requests.patch(URL+'/updateWithCSV', files=files)
    files.get('file').close()

'''
    
if __name__ == "__main__":
    unittest.main()

